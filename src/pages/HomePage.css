/* üì± VARIABLES CSS: Valores consolidados y reutilizables */
:root {
  /* Heights responsive */
  --scroll-height-mobile: 250vh; /* M√≥vil peque√±o */
  --scroll-height-medium: 275vh; /* M√≥vil grande/tablet peque√±o */
  --scroll-height-desktop: 300vh; /* Desktop */
  --scroll-height-landscape: 200vh; /* Landscape m√≥vil */

  /* Colores del sistema de glitch */
  --color-primary-orange: #da8023;
  --color-white: #ffffff;
  --color-transparent: transparent;
  --color-gray-light: #b3b4b0;
  --color-gray-medium: #8a8b88;
  --color-gray-dark: #666762;

  /* Z-index system */
  --z-background: 1;
  --z-content: 10;
  --z-transition: 1000;
  --z-cursor-trail: 10001;

  /* Positioning values */
  --position-full-cover: fixed;
  --size-full-viewport: 100vh;
  --size-full-width: 100%;
}

/* ‚úÖ Estilos espec√≠ficos para HomePage - optimizados y sin duplicaciones */
body {
  background-color: #000;
  overflow-x: hidden; /* ‚úÖ Evita scroll horizontal */
}

/* üöÄ CLASES UTILITARIAS: Hardware Acceleration consolidadas */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: auto;
}

.gpu-accelerated-scroll {
  transform: translateZ(0);
  will-change: scroll-position;
}

.gpu-accelerated-transition {
  transform: translateZ(0);
  will-change: opacity, filter;
}

/* üìç CLASE UTILITARIA: Full viewport positioning */
.full-viewport-fixed {
  position: var(--position-full-cover);
  top: 0;
  left: 0;
  width: var(--size-full-width);
  height: var(--size-full-viewport);
}

/* üéØ CLASE UTILITARIA: Responsive height pattern */
.responsive-scroll-height {
  height: var(--scroll-height-mobile);
  min-height: var(--scroll-height-mobile);
}

/* Canvas trail optimizado con clases consolidadas */
.cursor-trail-canvas {
  pointer-events: none;
  z-index: var(--z-cursor-trail);
  opacity: 1;
  background: var(--color-transparent);
}

/* Contenedor del Canvas 3D optimizado con clases consolidadas */
.canvas-container {
  z-index: var(--z-background);
  pointer-events: none; /* Permite que el scroll funcione a trav√©s del canvas */
}

/* üåÄ ESTADO DE TRANSICI√ìN PORTAL */
.canvas-container.transitioning {
  pointer-events: auto;
  z-index: var(--z-transition);
}

/* üî• EFECTO DE FALLA DIGITAL optimizado */
.canvas-container.digital-glitch {
  animation: digitalGlitchEffect 0.6s ease-in-out;
}

@keyframes digitalGlitchEffect {
  0% {
    filter: none;
    transform: translateZ(0);
    background: none;
  }
  5% {
    filter: saturate(3) contrast(2) brightness(1.5);
    transform: translateX(-4px) skewX(1deg);
    background: repeating-linear-gradient(
      0deg,
      var(--color-transparent) 0px,
      var(--color-transparent) 2px,
      var(--color-primary-orange) 2px,
      var(--color-primary-orange) 3px,
      var(--color-transparent) 3px,
      var(--color-transparent) 8px
    );
  }
  10% {
    filter: saturate(5) contrast(3) brightness(0.8);
    transform: translateX(6px) skewX(-2deg);
    background: repeating-linear-gradient(
      0deg,
      var(--color-transparent) 0px,
      var(--color-transparent) 1px,
      var(--color-gray-light) 1px,
      var(--color-gray-light) 2px,
      var(--color-transparent) 2px,
      var(--color-transparent) 6px,
      var(--color-white) 6px,
      var(--color-white) 7px,
      var(--color-transparent) 7px,
      var(--color-transparent) 12px
    );
  }
  25% {
    filter: saturate(8) contrast(6) brightness(3);
    transform: translateX(-5px) skewX(2deg);
    background: repeating-linear-gradient(
      0deg,
      #c26d1a 0px,
      #c26d1a 2px,
      var(--color-transparent) 2px,
      var(--color-transparent) 3px,
      #9c9d9a 3px,
      #9c9d9a 4px,
      var(--color-transparent) 4px,
      var(--color-transparent) 7px,
      #f5f5f5 7px,
      #f5f5f5 8px,
      var(--color-transparent) 8px,
      var(--color-transparent) 11px
    );
  }
  50% {
    filter: saturate(15) contrast(10) brightness(0.2);
    transform: translateX(10px) skewX(-5deg);
    background: repeating-linear-gradient(
      0deg,
      var(--color-transparent) 0px,
      var(--color-transparent) 1px,
      #a3540f 1px,
      #a3540f 3px,
      #59595a 3px,
      #59595a 4px,
      var(--color-transparent) 4px,
      var(--color-transparent) 5px,
      #e8e8e8 5px,
      #e8e8e8 7px,
      var(--color-transparent) 7px,
      var(--color-transparent) 10px
    );
  }
  75% {
    filter: saturate(12) contrast(8) brightness(3.2);
    transform: translateX(-6px) skewX(3.2deg);
    background: repeating-linear-gradient(
      0deg,
      var(--color-white) 0px,
      var(--color-white) 2px,
      #e2761d 2px,
      #e2761d 3px,
      var(--color-transparent) 3px,
      var(--color-transparent) 6px,
      #999a97 6px,
      #999a97 7px,
      var(--color-transparent) 7px,
      var(--color-transparent) 10px
    );
  }
  100% {
    filter: none;
    transform: translateZ(0);
    background: none;
  }
}

/* Contenedor de scroll optimizado con clases consolidadas */
.scroll-content {
  position: relative;
  z-index: var(--z-content);
  width: var(--size-full-width);
  min-width: 100vw;

  /* Gradiente sutil de fondo */
  background: linear-gradient(
    to bottom,
    var(--color-transparent) 0%,
    rgba(100, 255, 218, 0.01) 25%,
    rgba(255, 100, 218, 0.01) 50%,
    rgba(100, 218, 255, 0.01) 75%,
    var(--color-transparent) 100%
  );
}

/* üì± RESPONSIVE: Media queries consolidadas y optimizadas */

/* M√≥vil grande y tablet peque√±o */
@media (min-width: 481px) {
  .responsive-scroll-height {
    height: var(--scroll-height-medium);
    min-height: var(--scroll-height-medium);
  }
}

/* Tablet y desktop peque√±o */
@media (min-width: 769px) {
  .responsive-scroll-height {
    height: var(--scroll-height-desktop);
    min-height: var(--scroll-height-desktop);
  }
}

/* ‚úÖ Orientaci√≥n landscape en m√≥viles - !important necesario para sobrescribir las reglas anteriores */
@media (max-height: 600px) and (orientation: landscape) {
  .responsive-scroll-height {
    height: var(--scroll-height-landscape) !important;
    min-height: var(--scroll-height-landscape) !important;
  }
}
