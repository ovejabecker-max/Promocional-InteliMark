/* ÔøΩÔ∏è VARIABLES CSS: Valores consolidados y reutilizables */
:root {
  /* Heights responsive - DESKTOP BASE (preservado) */
  --scroll-height-desktop: 300vh;
  --scroll-height: var(--scroll-height-desktop); /* Default desktop */

  /* Responsive font scaling - DESKTOP BASE */
  --text-scale-factor: 1; /* Desktop base scale */
  --font-size-3d-base: 1.728rem; /* Base para textos 3D */

  /* Canvas and interaction settings - DESKTOP BASE */
  --canvas-min-width: 1200px;
  --canvas-min-height: 800px;
  --mouse-trail-points: 45;
  --mouse-trail-interval: 12;
  --pixel-ratio: 1;

  /* Colores del sistema de glitch */
  --color-primary-orange: #da8023;
  --color-white: #ffffff;
  --color-transparent: transparent;
  --color-gray-light: #b3b4b0;
  --color-gray-medium: #8a8b88;
  --color-gray-dark: #666762;

  /* Z-index system */
  --z-background: 1;
  --z-content: 10;
  --z-transition: 1000;
  --z-cursor-trail: 10001;

  /* Positioning values */
  --position-full-cover: fixed;
  --size-full-viewport: 100vh;
  --size-full-width: 100%;
}

/* ‚úÖ Estilos espec√≠ficos para HomePage - optimizados y sin duplicaciones */
body {
  background-color: #000;
  overflow-x: hidden; /* ‚úÖ Evita scroll horizontal */
}

/* üöÄ CLASES UTILITARIAS: Hardware Acceleration consolidadas */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: auto;
}

.gpu-accelerated-scroll {
  transform: translateZ(0);
  will-change: scroll-position;
}

.gpu-accelerated-transition {
  transform: translateZ(0);
  will-change: opacity, filter;
}

/* üìç CLASE UTILITARIA: Full viewport positioning */
.full-viewport-fixed {
  position: var(--position-full-cover);
  top: 0;
  left: 0;
  width: var(--size-full-width);
  height: var(--size-full-viewport);
}

/* üñ•Ô∏è CLASE UTILITARIA: Desktop height pattern */
.responsive-scroll-height {
  height: var(--scroll-height); /* ‚úÖ Ahora usa la variable responsive */
  min-height: var(--scroll-height);
}

/* üì± RESPONSIVE SYSTEM: Media queries para adaptar variables */

/* Tablets grandes y pantallas medianas */
@media (max-width: 1024px) and (min-width: 769px) {
  :root {
    --scroll-height: 280vh; /* Reducido proporcionalmente */
    --text-scale-factor: 0.9;
    --canvas-min-width: 1000px;
    --canvas-min-height: 700px;
    --mouse-trail-points: 35;
    --mouse-trail-interval: 15;
  }
}

/* Tablets */
@media (max-width: 768px) and (min-width: 481px) {
  :root {
    --scroll-height: 250vh;
    --text-scale-factor: 0.8;
    --canvas-min-width: 800px;
    --canvas-min-height: 600px;
    --mouse-trail-points: 25;
    --mouse-trail-interval: 20;
    --pixel-ratio: 1.5; /* Mejor calidad en tablets */
  }
}

/* M√≥viles */
@media (max-width: 480px) {
  :root {
    --scroll-height: 200vh; /* M√°s compacto en m√≥viles */
    --text-scale-factor: 0.65;
    --canvas-min-width: 100vw;
    --canvas-min-height: 100vh;
    --mouse-trail-points: 15;
    --mouse-trail-interval: 25;
    --pixel-ratio: 2; /* Alta densidad para m√≥viles */
  }
}

/* Canvas trail optimizado con clases consolidadas */
.cursor-trail-canvas {
  pointer-events: none;
  z-index: var(--z-cursor-trail);
  opacity: 1;
  background: var(--color-transparent);
}

/* Contenedor del Canvas 3D optimizado con clases consolidadas */
.canvas-container {
  z-index: var(--z-background);
  pointer-events: none; /* Permite que el scroll funcione a trav√©s del canvas */
}

/* üåÄ ESTADO DE TRANSICI√ìN PORTAL */
.canvas-container.transitioning {
  pointer-events: auto;
  z-index: var(--z-transition);
}

/* üî• EFECTO DE FALLA DIGITAL optimizado */
.canvas-container.digital-glitch {
  animation: digitalGlitchEffect 0.6s ease-in-out;
}

@keyframes digitalGlitchEffect {
  0% {
    transform: translate(0);
    filter: none;
    clip-path: inset(0);
  }
  5% {
    transform: translate(-2px, 2px);
    filter: brightness(2.5) contrast(2);
    clip-path: inset(10% 20% 50% 5%);
  }
  10% {
    transform: translate(3px, -1px);
    filter: invert(100%);
    clip-path: inset(80% 30% 2% 10%);
  }
  15% {
    transform: translate(-1px, -3px);
    filter: brightness(1) contrast(1);
    clip-path: inset(0);
  }
  20% {
    transform: translate(2px, 2px);
    filter: brightness(3) contrast(3) hue-rotate(90deg);
    clip-path: polygon(
      0 0,
      100% 0,
      100% 5%,
      0 5%,
      0 10%,
      100% 10%,
      100% 15%,
      0 15%
    );
  }
  25% {
    transform: translate(-3px, 1px);
    filter: none;
    clip-path: inset(40% 0 40% 0);
  }
  30% {
    transform: translate(0);
    filter: brightness(1.5) contrast(1.5);
    clip-path: inset(0);
  }
  40% {
    transform: translate(5px, 5px) scale(1.1);
    filter: invert(100%) brightness(4);
    clip-path: inset(60% 10% 5% 20%);
  }
  50% {
    transform: translate(-5px, -5px) scale(0.9);
    filter: none;
    clip-path: inset(10% 5% 70% 15%);
  }
  60% {
    transform: translate(1px, 3px);
    filter: brightness(2) contrast(1);
    clip-path: inset(0);
  }
  70% {
    transform: translate(-2px, -1px) scale(1.05);
    filter: brightness(0.5) contrast(2.5);
    clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%);
  }
  80% {
    transform: translate(4px, -3px) scale(0.95);
    filter: invert(100%);
    clip-path: inset(25% 25% 25% 25%);
  }
  90% {
    transform: translate(-1px, 2px);
    filter: none;
    clip-path: inset(0);
  }
  100% {
    transform: translate(0);
    filter: none;
    clip-path: inset(0);
  }
}

/* Contenedor de scroll optimizado con clases consolidadas */
.scroll-content {
  position: relative;
  z-index: var(--z-content);
  width: var(--size-full-width);
  min-width: 100vw;

  /* Gradiente sutil de fondo */
  background: linear-gradient(
    to bottom,
    var(--color-transparent) 0%,
    rgba(100, 255, 218, 0.01) 25%,
    rgba(255, 100, 218, 0.01) 50%,
    rgba(100, 218, 255, 0.01) 75%,
    var(--color-transparent) 100%
  );
}

/* üéÆ RESPONSIVE: Interacciones t√°ctiles optimizadas */

/* Touch-friendly adjustments para m√≥viles */
@media (max-width: 768px) and (pointer: coarse) {
  .homepage-container {
    touch-action: pan-y; /* Solo scroll vertical en m√≥viles */
  }

  /* Mejorar rendimiento en m√≥viles reduciendo efectos */
  .cursor-trail-canvas {
    opacity: 0.7; /* Reducir opacidad del trail en m√≥viles */
  }

  .canvas-container {
    /* Reducir filtros costosos en m√≥viles */
    backface-visibility: hidden;
    perspective: 1000px;
  }
}

/* Tablets: experiencia intermedia */
@media (max-width: 1024px) and (min-width: 769px) and (pointer: coarse) {
  .homepage-container {
    touch-action: pan-y pinch-zoom; /* Permitir zoom en tablets */
  }
}

/* Desktop: experiencia completa (sin cambios) */
@media (min-width: 1025px) and (pointer: fine) {
  .homepage-container {
    /* Desktop mantiene experiencia completa sin modificaciones */
    will-change: auto;
  }
}
